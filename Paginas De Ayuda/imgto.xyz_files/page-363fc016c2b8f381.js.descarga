(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1159:function(e,t,a){Promise.resolve().then(a.t.bind(a,231,23)),Promise.resolve().then(a.bind(a,4292)),Promise.resolve().then(a.bind(a,1077)),Promise.resolve().then(a.bind(a,2597))},4292:function(e,t,a){"use strict";var r=a(7437),l=a(2265),i=a(2043);let n=(0,l.forwardRef)((e,t)=>{let{children:a,className:l="",onClick:n,size:s="sm",href:o,download:c,disabled:d=!1}=e,u="inline-flex items-center justify-between gap-2 text-white hover:text-white bg-blue-600 hover:bg-blue-500 active:bg-blue-700 rounded font-black uppercase",m="bg-zinc-400 hover:bg-zinc-400 active:bg-zinc-400",p="text-sm py-2.5 px-6";function f(e){d||"function"!=typeof n||n(e)}return("xs"===s?p="text-xs py-2 px-4":"lg"===s&&(p="text-lg py-3 px-5"),"string"==typeof o)?(0,r.jsx)("a",{href:o,onClick:f,className:(0,i.cn)("".concat(u," ").concat(p),p,d&&m,l),download:c,children:a}):(0,r.jsx)("button",{ref:t,onClick:f,className:(0,i.cn)("".concat(u," ").concat(p),p,d&&m,l),children:a})});n.displayName="Button",t.default=n},1077:function(e,t,a){"use strict";var r=a(7437),l=a(8302);t.default=e=>{let t;let a=parseInt("".concat(e.width)),i=parseInt("".concat(e.height)),n="data:image/svg+xml;base64,".concat((t='\n    <svg width="'.concat(a,'" height="').concat(i,'" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <defs>\n        <linearGradient id="g">\n          <stop stop-color="#fff" offset="20%" />\n          <stop stop-color="#f9f9f9" offset="50%" />\n          <stop stop-color="#fff" offset="70%" />\n        </linearGradient>\n      </defs>\n      <rect width="').concat(a,'" height="').concat(i,'" fill="#fff" />\n      <rect id="r" width="').concat(a,'" height="').concat(i,'" fill="url(#g)" />\n      <animate xlink:href="#r" attributeName="x" from="-').concat(a,'" to="').concat(a,'" dur="1s" repeatCount="indefinite"  />\n    </svg>'),window.btoa(t)));return(0,r.jsx)(l.bz,{placeholder:n,...e})}},2597:function(e,t,a){"use strict";a.d(t,{default:function(){return R}});var r=a(7437),l=a(2265),i=a(4887),n=a(3274),s=a(7164),o=a(2468),c=a(8302),d=a(7713),u=a(7776),m=a(2043);let p={avif:"AVIF",jpg:"JPG",jpeg:"JPG",jxl:"JXL",png:"PNG",webp:"WebP",heif:"HEIF",heic:"HEIC"};async function f(e){var t;let a=Date.now(),r=new FormData,l={upload_preset:"imgtoxyz"};l.folder="imgto.xyz",Object.keys(l).sort().forEach(e=>{void 0!==l[e]&&r.append(e,String(l[e]))});let{signature:i}=await fetch("/api/sign",{method:"POST",body:JSON.stringify({...l,timestamp:a})}).then(e=>e.json());r.append("file",e),r.append("api_key",String("538271535478365")),r.append("timestamp",String(a)),r.append("signature",i);let n=await fetch("https://api.cloudinary.com/v1_1/".concat("imgtoxyz","/image/upload"),{method:"POST",body:r});if(!n.ok){let{error:e}=await n.json();throw Error(e.message||"Uknown error")}let s=await n.json(),o=null===(t=s.moderation)||void 0===t?void 0:t.find(e=>{let{kind:t}=e;return"aws_rek"===t});if((null==o?void 0:o.status)==="rejected")throw Error("INAPPROPRIATE_CONTENT");return s}var h=a(4636),x=a(2881),g=a(3907),b=a(3347),w=a(4292),v=e=>{let{className:t="",onDrop:a,disabled:i=!1,maxFiles:n,maxSize:s=0,accept:o}=e,c=(0,l.useRef)(null),d=(0,l.useRef)(0),[u,p]=(0,l.useState)("idle"),[f,v]=(0,l.useState)([]),j="w-full text-center bg-white dark:bg-slate-950 rounded-2xl";j="over"!==u||i?i?"".concat(j," shadow-[0px_4px_14px_0px_rgba(0,0,0,0.15)] shadow-red-200 dark:shadow-slate-900"):"".concat(j," shadow-[0px_4px_14px_0px_rgba(0,0,0,0.15)] shadow-zinc-200 dark:shadow-slate-900"):"".concat(j,' relative shadow-blue-400/60 before:content-["_"] before:block before:w-full before:h-full before:bg-blue-500 before:blur-lg dark:before:blur-xl before:opacity-60 before:absolute before:top-0 before:right-0 before:z-[-1] before:animate-faderight before:bg-[length:400%] before:bg-gradient-to-r before:from-blue-500 dark:before:from-blue-400 before:from-[10%] before:via-purple-600 dark:before:via-purple-500 before:to-blue-500 dark:before:to-blue-400 before:to-[90%]');let y=(0,l.useRef)(f);(0,l.useEffect)(()=>{y.current=f},[f]),(0,l.useEffect)(()=>()=>{y.current.forEach(e=>{URL.revokeObjectURL(e.dataUrl)})},[]),(0,l.useEffect)(()=>{let e=c.current;if(!e)throw Error("Unable to mount dropzone.");return(0,h.$)((0,x.f)({element:e,canDrop:g.n,onDragEnter:()=>p("over"),onDragLeave:()=>p("potential"),onDrop:async e=>{let{source:t}=e;(await (0,g.b)({source:t})).forEach(e=>k(e))}}),(0,x.E)({canMonitor:g.n,onDragStart:()=>{p("potential"),b.y.start()},onDrop:()=>{p("idle"),b.y.stop()}}))},[]);let N=(0,l.useRef)(null),z=(0,l.useCallback)(()=>{var e;null===(e=N.current)||void 0===e||e.click()},[]),k=(0,l.useCallback)(e=>{var t;if(!e)return;let r=(t=e.type,"object"!=typeof o||!!o[t]),l="number"==typeof s&&e.size>s,i="number"==typeof n&&d.current>=n,c={type:"image",dataUrl:URL.createObjectURL(e),name:e.name,size:e.size,file:e,status:!r||l||i?"rejected":"accepted"},u=[];r||u.push("File type not accepted."),l&&u.push("File size exceeds limit."),i&&u.push("Max allowed number of files reached."),u.length>0&&(c.errors=u),d.current=d.current+1,v(e=>[...e,c]),"function"==typeof a&&a(c)},[]),E=(0,l.useCallback)(e=>{var t;Array.from(null!==(t=e.currentTarget.files)&&void 0!==t?t:[]).forEach(k)},[k]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:(0,m.cn)(j,t),children:(0,r.jsxs)("div",{className:"z-0",children:[!i&&(0,r.jsxs)("div",{ref:c,"data-testid":"drop-target",className:"px-6 py-10 sm:py-16",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("svg",{className:"w-full max-w-[6em] fill-zinc-400 dark:fill-zinc-400 mx-auto mb-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",children:(0,r.jsx)("path",{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z"})}),(0,r.jsx)("strong",{className:"block text-2xl font-bold mb-1",children:"Drop an Image"}),(0,r.jsx)("span",{className:"block mb-2",children:"or"}),(0,r.jsx)("span",{className:"block",children:(0,r.jsx)(w.default,{onClick:z,children:"Upload a File"})})]}),(0,r.jsx)("p",{className:"text-xs mt-4 text-zinc-600 dark:text-zinc-400",children:"Maximum of 20 images at a time up to 10 mb each"}),(0,r.jsx)("input",{ref:N,id:"file-input",className:"sr-only",onChange:E,type:"file",accept:o?Object.entries(o).map(e=>{let[t]=e;return t}).join(", "):void 0,multiple:!0})]}),i&&(0,r.jsx)("div",{className:"opacity-70 px-6 py-10 sm:py-16",children:(0,r.jsxs)("p",{children:[(0,r.jsx)("svg",{className:"w-full max-w-[6em] fill-red-500 dark:fill-zinc-400 mx-auto mb-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",children:(0,r.jsx)("path",{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z"})}),(0,r.jsx)("strong",{className:"block text-2xl font-bold mb-1",children:"Maximum Images Reached"})]})})]})})})},j=e=>{let{className:t="",progress:a=0,state:l="active"}=e,i="block h-full bg-green-500 transition-[width] animate-faderight";return a>0&&a<100&&(i=(0,m.cn)(i,"bg-[length:400%] bg-gradient-to-r from-green-500 from-[20%] via-green-600 to-green-500 to-[80%]")),(0,r.jsx)("span",{className:(0,m.cn)("block h-5 w-full rounded-sm overflow-hidden bg-zinc-200 dark:bg-zinc-600 mb-2",t),children:(0,r.jsx)("span",{className:(0,m.cn)(i,"error"===l&&"bg-red-500 w-full"),style:"error"!==l?{width:"".concat(a,"%")}:{},children:(0,r.jsxs)("span",{className:"sr-only",children:[a,"% Complete"]})})})},y=a(1976),N=a(2421),z=e=>{let{children:t,url:a,filename:i="file",onClick:o,className:c,preload:d=!1,showSize:u=!1,...p}=e,[f,h]=(0,l.useState)(!1),[x,g]=(0,l.useState)();async function b(e){f||(h(!0),await (0,m.GR)(a,i,{downloadBlob:!0}),h(!1),"function"==typeof o&&o(e))}return(0,l.useEffect)(()=>{d&&async function(){h(!0);let e=await fetch(a);u&&g((await e.blob()).size),h(!1)}()},[d]),(0,r.jsxs)("button",{...p,onClick:b,className:(0,m.cn)("flex items-center gap-2",c,f&&"text-zinc-500"),children:[!f&&(0,r.jsx)(s.Z,{className:"w-4 h-4"}),f&&(0,r.jsx)(n.Z,{className:"w-4 h-4 animate-spin"}),(0,r.jsx)("span",{className:"text-sm",children:t}),x&&u&&(0,r.jsxs)("span",{className:"text-xs text-zinc-500",children:["(",(0,m.td)(x,{fixed:0}),")"]})]})};let k=["avif","webp","jpg","jxl"];var E=e=>{var t,a,i,o;let{image:c}=e,d=(0,l.useRef)(null),[u,f]=(0,l.useState)(!1),h=null===(t=c.upload)||void 0===t?void 0:t.original_filename,x=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.split("/"),r=a[a.length-1];return t?p[r]||r:["jpeg","jpg"].includes(r)?"jpg":r}(c.file.type,!0),g="error"===c.state||c.errors;async function b(e,t){var a;"string"==typeof(null==c?void 0:null===(a=c.optimized)||void 0===a?void 0:a.url)&&await (0,m.GR)(e,"".concat(h,".").concat(t),{downloadBlob:!0})}function v(e){d.current&&!e.composedPath().includes(d.current)&&f(!1)}return(0,l.useEffect)(()=>(document.body.addEventListener("click",v),()=>{document.body.removeEventListener("click",v)}),[]),(0,r.jsxs)("div",{className:"flex w-full gap-4 sm:gap-10 mb-10",children:[(0,r.jsxs)("span",{className:"relative shrink-0 w-24 sm:w-32 self-start shadow-[0px_2px_8px_0px_rgba(0,0,0,0.15)]",children:[c.data&&(0,r.jsx)("img",{className:"block w-full rounded relative z-10 aspect-square object-cover",width:c.width,height:c.height,src:c.data,alt:"Upload preview",loading:"lazy",decoding:"async"}),(0,r.jsx)("span",{className:"block absolute top-0 left-0 z-0 w-full rounded aspect-square bg-zinc-300 animate-pulse"})]}),(0,r.jsxs)("div",{className:"grid -mt-1 sm:mt-0",children:[(0,r.jsx)("h3",{className:"font-bold truncate mb-1",children:c.name}),(0,r.jsxs)("p",{className:"flex flex-col xs:flex-row gap-2 xs:gap-2 xs:items-center sm:text-lg mb-4",children:[(0,r.jsxs)("span",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-purple-700 font-semibold bg-purple-100 border border-purple-400 rounded text-xs px-[.4em] py-[.2em] mr-1",children:x}),(0,r.jsx)("span",{children:c.size&&(0,m.td)(c.size,{fixed:0})})]}),!g&&(null==c?void 0:null===(a=c.optimized)||void 0===a?void 0:a.size)&&(0,r.jsxs)("span",{className:"flex items-center gap-2 h-6",children:[(0,r.jsx)(y.Z,{className:"w-4 h-4 text-green-700"}),(0,r.jsx)("span",{className:"font-bold text-green-600",children:(0,m.td)(null==c?void 0:null===(i=c.optimized)||void 0===i?void 0:i.size,{fixed:0})})]}),!g&&!(null==c?void 0:null===(o=c.optimized)||void 0===o?void 0:o.size)&&(0,r.jsxs)("span",{className:"flex items-center gap-2 h-6",children:[(0,r.jsx)(y.Z,{className:"w-4 h-4 text-green-700"}),(0,r.jsx)(n.Z,{className:"w-4 h-4 animate-spin text-zinc-400"})]})]}),(0,r.jsxs)("div",{className:"flex justify-between mb-6",children:[["finished"].includes(c.state)&&(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex gap-2 sm:gap-4 flex-col xs:flex-row",children:[(0,r.jsxs)(w.default,{className:"relative z-0",onClick:async()=>{var e,t;(null==c?void 0:null===(e=c.optimized)||void 0===e?void 0:e.url)&&(null===(t=c.upload)||void 0===t?void 0:t.format)&&await b(c.optimized.url,c.upload.format)},children:[(0,r.jsx)(s.Z,{className:"w-5 h-5 text-white"}),"Download"]}),(0,r.jsxs)("div",{ref:d,className:"flex items-center relative",children:[(0,r.jsxs)(w.default,{className:"relative z-0 bg-white hover:bg-white active:bg-white text-zinc-500 hover:text-zinc-400 border-2 border-zinc-400",onClick:()=>f(!u),size:"xs",children:["Download As",(0,r.jsx)(N.Z,{className:"w-5 h-5"})]}),u&&(0,r.jsx)("ul",{className:"absolute top-[calc(100%_+_.5em)] left-0 z-10 min-w-full text-left whitespace-nowrap bg-white shadow-lg rounded px-2 py-2",children:k.filter(e=>null==c?void 0:c[e]).filter(e=>{var t;return e!==(null===(t=c.upload)||void 0===t?void 0:t.format)}).map(e=>{let t=c[e];return(0,r.jsx)("li",{className:"font-semibold mb-1",children:(0,r.jsxs)(z,{className:"text-zinc-800 hover:text-zinc-500 px-2 py-1",url:(null==t?void 0:t.url)||"",filename:"".concat(h,".").concat(e),title:"Dowload as .".concat(e),preload:!0,showSize:!0,children:[".",e]})},e)})})]})]})}),!g&&["dropped","reading","read","uploading","optimizing"].includes(c.state)&&(0,r.jsx)("div",{className:"flex gap-4",children:(0,r.jsxs)(w.default,{disabled:!0,children:[(0,r.jsx)(n.Z,{className:"w-5 h-5 text-white animate-spin"}),"Optimizing"]})}),g&&(0,r.jsxs)(r.Fragment,{children:[Array.isArray(c.errors)&&(0,r.jsx)("ul",{className:"grid gap-1",children:c.errors.map((e,t)=>(0,r.jsx)("li",{className:"text-sm text-red-700 bg-red-100 border-red-400 px-2 py-1 rounded",children:e},t))}),!Array.isArray(c.errors)&&(0,r.jsx)("p",{children:"Failed to optimize image."})]})]})]})]})};let _={ready:"Ready",uploading:"Uploading",finished:"Done",optimizing:"Optimizing"};var R=e=>{let{className:t}=e,[p,h]=(0,l.useState)(null),[x,g]=(0,l.useState)("ready"),b=null==p?void 0:p.map(e=>{let{state:t}=e;return t}),y=(null==b?void 0:b.filter(e=>"uploading"===e).length)||0,N=(null==b?void 0:b.filter(e=>"optimizing"===e).length)||0,z=(null==b?void 0:b.filter(e=>"error"===e).length)||0,k=((null==b?void 0:b.filter(e=>"finished"===e).length)||0)+z,R=Array.isArray(p)?p.length:0,A=0;R===k+z?A=100:"number"==typeof k&&"number"==typeof R&&(A=12.5+k/R*100/8*7);let O=p&&(0,m.io)(p.map(e=>{let{size:t}=e;return t})),C=R===k&&p&&(0,m.io)(p.map(e=>{let{optimized:t}=e;return(null==t?void 0:t.size)||0})),U="ready";k===R?U="finished":("number"==typeof y&&y>0||"number"==typeof N&&N>0)&&(U="optimizing");let S="";async function D(){if("ready"!==x)return;g("archiving");let e=null==p?void 0:p.filter(e=>{let{optimized:t}=e;return!!t}).map(e=>{let{name:t,upload:a,optimized:r}=e;return{name:t,format:null==a?void 0:a.format,url:null==r?void 0:r.url}});await (0,m.GR)("/api/archive?urls=".concat(JSON.stringify(e)),"imgtoxyz.zip"),g("finished"),setTimeout(()=>{g("ready")},2e3)}return Array.isArray(p)&&p.length>0&&(S="grid md:grid-cols-2 gap-10"),(0,l.useEffect)(()=>(0,i.preconnect)("https://res.cloudinary.com"),[]),(0,l.useEffect)(()=>{let e=null==p?void 0:p.filter(e=>{let{state:t}=e;return"read"===t}),t=null==e?void 0:e.map(e=>{let{id:t}=e;return t});Array.isArray(e)&&0!==e.length&&(h(e=>[...e||[]].map(e=>{let a={...e};return(null==t?void 0:t.includes(a.id))&&(a.state="uploading"),a})),async function(){let t=(0,d.Z)(10),a=e.map(e=>t(()=>(async function(){let t,a;try{t=await f(e.file)}catch(a){let t;a instanceof Error&&("INAPPROPRIATE_CONTENT"===a.message?t="An image you uploaded appears to be inappropriate and not supported by imgto.xyz. If you think this is in error, please email community@cloudinary.com.":a.message.includes("minimum pixel resolution")&&(t="Images smaller than 80x80px are not supported.")),u.A.error(t||"Something went wrong, try again!"),h(a=>[...a||[]].map(a=>{let r={...a};return a.id===e.id&&(r.state="error",t&&(r.errors=[t])),r}));return}h(a=>[...a||[]].map(a=>{let r={...a};return a.id===e.id&&(r.state="optimizing",r.upload=t),r}));let r=(0,c.oy)({src:t.public_id,format:"default",quality:"auto:low"});try{a=await (0,m.Nk)(r)}catch(a){let t="Unknown Error";a instanceof Error&&"UNAUTHORIZED"===a.message&&(t="Someting went wrong. Try disabling any Ad Blockers and try again!"),u.A.error(t),h(t=>[...t||[]].map(t=>{let a={...t};return t.id===e.id&&(a.state="error"),a}));return}let l=a.size,i=(0,c.oy)({src:t.public_id,format:"avif",quality:"auto:low"}),n={optimized:{url:r,data:a,size:l},avif:{url:i},webp:{url:(0,c.oy)({src:t.public_id,format:"webp",quality:"auto:low"})},jpg:{url:(0,c.oy)({src:t.public_id,format:"jpg",quality:"auto:low"})},jxl:{url:(0,c.oy)({src:t.public_id,format:"jxl",quality:"auto:low"})}};return h(t=>[...t||[]].map(t=>{let a={...t};return t.id===e.id&&(a.state="finished",Object.assign(a,n)),a})),{...e,upload:e}})()));await Promise.all(a)}())},[p]),(0,l.useEffect)(()=>{let e=null==p?void 0:p.filter(e=>{let{state:t}=e;return"dropped"===t}),t=null==e?void 0:e.map(e=>{let{id:t}=e;return t});e&&0!==e.length&&(h(e=>[...e||[]].map(e=>{let a={...e};return(null==t?void 0:t.includes(a.id))&&(a.state="reading"),a})),e.forEach(async e=>{var t;let{img:r,data:l}=await (t=e.file,new Promise(async(e,r)=>{let l=new FileReader;if(l.onload=function(){let t=new Image;t.onerror=function(){r(null)},t.onload=function(){e({data:l.result,img:t})},t.src=l.result},"image/heif"===t.type||"image/heic"===t.type){let e=(await a.e(156).then(a.t.bind(a,3794,23))).default;t=await e({blob:t,toType:"image/jpeg"})}l.readAsDataURL(t)})),i={img:r,data:l,width:r.width,height:r.height,state:e.errors?"error":"read"};h(t=>[...t||[]].map(t=>{let a={...t};return t.id===e.id&&(a={...e,...i}),a}))}))},[p]),(0,r.jsxs)("div",{className:(0,m.cn)("",t),children:[(0,r.jsxs)("div",{className:"".concat(S," mb-20"),children:[(0,r.jsx)(v,{className:"min-h-0 self-start",accept:{"image/avif":[".avif"],"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"],"image/webp":[".webp"],"image/jxl":[".jxl"],"image/heif":[".heic",".heif"],"image/heic":[".heic"]},onDrop:e=>{let t=Date.now(),a={id:"".concat(t,"-").concat(e.name),name:e.name,size:e.size,file:e.file,state:"dropped"};e.errors&&(a.errors=e.errors),h(e=>[...e||[],a])},disabled:!!R&&R>=20,maxSize:1e7,maxFiles:20}),Array.isArray(p)&&(0,r.jsxs)("section",{children:[(0,r.jsxs)("h2",{className:"flex justify-between mb-1",children:[(0,r.jsxs)("span",{className:"text-xl font-bold",children:[p.length," images"]}),O&&C&&(0,r.jsxs)("span",{className:"text-xl font-bold text-green-600",children:["Saved ",(100-C/O*100).toFixed(0),"%"]})]}),(0,r.jsxs)("p",{className:"text-sm mb-5",children:["Total Original Size: ",O&&(0,m.td)(O,{fixed:0})]}),(0,r.jsx)("ul",{className:(0,m.cn)("grid gap-2 mb-7",p.length<=16&&"grid-cols-8",p.length>16&&"grid-cols-10"),children:p.map(e=>(0,r.jsx)("li",{className:(0,m.cn)("p-0.5 relative rounded-lg shadow-[0px_2px_8px_0px_rgba(0,0,0,0.15)]","error"===e.state?"bg-red-500":"bg-white"),children:(0,r.jsxs)("a",{href:"#".concat(e.id),className:"block aspect-square relative",children:[e.data&&(0,r.jsx)("img",{className:"block w-full aspect-square object-cover rounded-[.4rem] relative z-10",width:e.width,height:e.height,src:e.data,alt:"Upload preview",decoding:"async",loading:"lazy"}),(0,r.jsx)("span",{className:"block absolute top-0 left-0 z-0 w-full aspect-square rounded-[.4rem] bg-white overflow-hidden",children:(0,r.jsx)("span",{className:"block w-full h-full bg-zinc-200 animate-pulse"})})]})},e.id))}),(0,r.jsxs)("div",{className:"mb-6",children:["number"==typeof A&&(0,r.jsx)(j,{progress:A}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("p",{className:"text-xs font-bold",children:_[U]}),(0,r.jsxs)("p",{className:"text-xs font-bold",children:[k," of ",R," Complete"]})]})]}),"finished"===U&&"number"==typeof k&&k>0&&(0,r.jsx)("div",{className:"flex justify-between mb-6",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"mb-2",children:(0,r.jsxs)(w.default,{onClick:D,children:["archiving"===x&&(0,r.jsx)(n.Z,{className:"text-white w-5 h-5 animate-spin"}),"ready"===x&&(0,r.jsx)(s.Z,{className:"w-5 h-5 text-white"}),"finished"===x&&(0,r.jsx)(o.Z,{className:"text-white w-5 h-5"}),"Download All"]})}),(0,r.jsxs)("p",{className:"block text-sm font-bold",children:["Total Optimized: ",C&&(0,m.td)(C,{fixed:0})]})]})})]})]}),Array.isArray(p)&&(0,r.jsx)("div",{className:"w-full max-w-xl mx-auto",children:(0,r.jsx)("ul",{children:p.map(e=>(0,r.jsx)("li",{id:e.id,children:(0,r.jsx)(E,{image:e})},e.id))})})]})}},2043:function(e,t,a){"use strict";a.d(t,{GR:function(){return o},Nk:function(){return s},cn:function(){return i},io:function(){return c},td:function(){return n}});var r=a(4839),l=a(6164);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,l.m6)((0,r.W)(t))}function n(e){let t,{type:a="kb",limit:r,fixed:l=0,commas:i=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;return"number"!=typeof n?n:(r&&n>=1e6?a="gb":r&&n>=1e3*r?a="mb":r&&n>=r&&(a="kb"),"gb"===a?n/=1e9:"mb"===a?n/=1e6:"kb"===a&&(n/=1e3),l>0&&n%1!=0?t=n.toFixed(l):0===l&&(t=Math.ceil(n)),i&&t&&(t=function(e){if(!["string","number"].includes(typeof e))return e;let[t,a]="".concat(e).split("."),r=t.split(""),l=0;for(var i=r.length-1;i>=0;i--)++l%3==0&&0!==i&&r.splice(i,0,",");let n=r.join("");return a&&(n="".concat(n,".").concat(a)),n}(t)),"".concat(t," ").concat(a))}async function s(e){let t=await fetch(e);if(!t.ok){if(401===t.status)throw Error("UNAUTHORIZED");throw Error("UNKNOWN_ERROR")}return await t.blob()}async function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"file",a=arguments.length>2?arguments[2]:void 0,{downloadBlob:r=!1}=a||{},l=e;if(r){let t=await s(e);l=URL.createObjectURL(t)}let i=document.createElement("a");i.href=l,i.download=t,i.addEventListener("click",function e(){setTimeout(()=>URL.revokeObjectURL(l),150),removeEventListener("click",e)},!1),i.click()}function c(e){return e.reduce((e,t)=>e+t,0)}}},function(e){e.O(0,[229,231,302,776,583,971,23,744],function(){return e(e.s=1159)}),_N_E=e.O()}]);
//# sourceMappingURL=page-363fc016c2b8f381.js.map