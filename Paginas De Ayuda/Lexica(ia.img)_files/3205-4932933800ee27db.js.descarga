"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3205],{69123:function(e,s,t){t.d(s,{$p:function(){return N},t_:function(){return z},BR:function(){return y}});var a=t(57437),l=t(2265),i=t(79179),n=t(24670),r=t(17647),c=t(57042),o=t(19702),d=t(29523),x=t(97876),m=t(51872),h=t(45866),u=t(49797),p=t(40094);let j=e=>{let{onClose:s}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold mb-5",children:"How to create with images"}),(0,a.jsxs)("div",{className:"flex flex-col space-y-5",children:[(0,a.jsx)(g,{number:"1",text:(0,a.jsx)("div",{children:'Upload an image or select "load into editor" on any image.'})}),(0,a.jsx)(g,{number:"2",text:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{children:"Write a prompt that describes the final image that you want."}),(0,a.jsxs)("div",{className:"flex mt-1 space-x-5 text-sm",children:[(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{role:"img","aria-label":"thumbs up",children:"\uD83D\uDC4D"}),(0,a.jsx)("span",{className:"ml-1.5 italic opacity-80",children:"beautiful painting of a cat"})]}),(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{role:"img","aria-label":"thumbs down",children:"\uD83D\uDC4E"}),(0,a.jsx)("span",{className:"ml-1.5 italic opacity-80",children:"turn the fox into a cat"})]})]})]})}),(0,a.jsx)(g,{number:"3",text:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"Click generate to create new images based on your upload."}),(0,a.jsxs)("span",{className:"block mt-1 text-sm",children:[(0,a.jsx)("span",{role:"img","aria-label":"warning",children:"\uD83E\uDDD1"}),(0,a.jsx)("span",{className:"opacity-80 ml-1.5 ",children:"people and faces may look different in new images"})]})]})})]}),(0,a.jsxs)("div",{className:"mt-7 flex justify-center items-center gap-1 sm:gap-3",children:[(0,a.jsx)(f,{imageUrl:"/upload-info-fox.jpg"}),(0,a.jsx)("span",{className:"text-xl sm:text-3xl",children:"+"}),(0,a.jsx)(v,{text:"beautiful painting of a cat"}),(0,a.jsx)("span",{className:"text-xl sm:text-3xl",children:"="}),(0,a.jsx)(f,{imageUrl:"/upload-info-cat.jpg"})]}),(0,a.jsx)("button",{onClick:s,className:"mt-7 w-full bg-indigo-600 hover:bg-indigo-700 text-lg rounded-md px-4 py-2.5 active:scale-95 transition duration-150 ease-in-out",children:"Okay sounds good"})]})},g=e=>{let{number:s,text:t}=e;return(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-indigo-600 rounded-full flex justify-center items-center mr-3",children:(0,a.jsx)("span",{className:"text-white",children:s})}),(0,a.jsx)("div",{className:"flex-1",children:t})]})},f=e=>{let{imageUrl:s}=e;return(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)("div",{className:"relative pb-[100%]",children:(0,a.jsx)("img",{src:s,className:"absolute top-0 left-0 w-full h-full object-cover rounded-md",alt:""})})})},v=e=>{let{text:s}=e;return(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)("div",{className:"relative pb-[100%]",children:(0,a.jsx)("p",{className:"absolute p-4 inset-0 flex items-center justify-center bg-zinc-900 text-zinc-300 text-xs sm:text-lg rounded-md",children:s})})})},b=[{label:"Image to Image",value:"variation",min:1,max:1}],N=l.memo(function(e){let{setEditSource:s}=e,{setState:t,sourceAction:g,sources:f}=(0,n.useApertureState)(),v=b.find(e=>e.value===g),N=f.slice(0,v.max),[C,k]=l.useState(null),[D,F]=(0,l.useState)(!1),[E,S]=(0,u.Z)("has-shown-upload-info",{defaultValue:!1});(0,l.useEffect)(()=>{N.length&&!1===E&&setTimeout(()=>{F(!0),S(!0)},600)},[N,E,S]);let U=(0,l.useCallback)(()=>{k(null)},[k]),V=(0,l.useCallback)(e=>{t("sources",s=>s.filter(s=>s.id!==e))},[t]),Z=Math.max(...b.map(e=>e.max)),[_,{errors:Y,clear:I}]=(0,i.s)({readAs:"DataURL",accept:"image/*",multiple:!1,limitFilesConfig:{},maxFileSize:10,onFilesSuccessfulySelected:async e=>{let{plainFiles:s,filesContent:a}=e;if(0===s.length||0===a.length)throw Error("Files are empty");let l=s.slice(0,Z),i=a.slice(0,Z),n=await Promise.all(i.map(e=>{let{content:s}=e;return z(s)})),r=async e=>e,c=l.map((e,s)=>({id:(0,m.Z)(),isUpload:!0,upload:r(e).then(e=>(0,o.Ix)(e,"optimized")),data:i[s].content,url:void 0,width:n[s].width,height:n[s].height,status:"pending"}));t("sources",e=>[...c,...e].slice(0,Z)),c.forEach(e=>{let s=(e,s)=>{t("sources",t=>t.map(t=>t.id===e?{...t,...s}:t))};e.upload.then(t=>s(e.id,{status:"success",url:t})).catch(()=>s(e.id,{status:"error"}))})}});return(0,a.jsxs)("div",{className:"relative",children:[D&&(0,a.jsx)(p.Z,{showClose:!1,onClose:()=>F(!1),maxWidth:550,children:(0,a.jsx)(j,{onClose:()=>F(!1)})}),N.length>0&&(0,a.jsxs)("div",{className:(0,c.Z)("relative",{"px-5 py-4 border-b border-zinc-700 border-opacity-50":N.length>0}),children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 flex",children:(0,a.jsx)("button",{onClick:()=>{I(),t("sources",[])},className:(0,c.Z)("text-zinc-500 text-xs rounded-tr-lg active:scale-95 transition-all transform-gpu whitespace-nowrap flex select-none cursor-pointer  hover:bg-opacity-60 hover:text-zinc-100 items-center justify-center py-1.5 w-fit-content pr-1.5"),children:(0,a.jsx)(x.q,{})})}),(0,a.jsxs)("div",{className:(0,c.Z)("pb-1",{"-mt-2":N.length>1}),children:[(0,a.jsxs)("div",{className:"flex flex-row items-start space-x-3.5",children:[1===N.length&&(0,a.jsx)("div",{className:"relative self-start flex-shrink-0",children:(0,a.jsx)(w,{source:N[0],onClick:()=>{k(0)},onDelete:()=>{V(N[0].id)}})}),(0,a.jsxs)("div",{className:"w-full",children:[1===b.length?(0,a.jsx)("div",{className:"text-xs mt-1 mb-1",children:b[0].label}):(0,a.jsx)("div",{className:"-ml-3",children:(0,a.jsx)(r.L,{placeholder:"Select option...",values:b.map(e=>{let{label:s,value:t}=e;return{label:s,value:t}}),onChange:e=>{t("sourceAction",e)},selectedValue:g})}),(0,a.jsx)("div",{className:"text-xs text-zinc-400 leading-snug",children:"variation"===g?(0,a.jsx)(a.Fragment,{children:"Create similar images guided by your prompt."}):"prompt"===g?(0,a.jsx)(a.Fragment,{children:"Combine one or more images with your prompt."}):"layout"===g?(0,a.jsx)(a.Fragment,{children:"Match the general layout of the image."}):"pose"===g?(0,a.jsx)(a.Fragment,{children:"Match the character's pose, but nothing else."}):"finetune"===g&&(0,a.jsx)(a.Fragment,{children:"Add yourself to images. Upload 4 images of yourself for best results."})})]})]}),N.length>1&&(0,a.jsx)("div",{className:"mt-3 flex flex-row items-start space-x-2",children:N.map((e,s)=>(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)(w,{source:e,onClick:()=>{k(s)},onDelete:()=>{V(e.id)}})},e.id))})]}),null!==C&&C>=0&&(0,a.jsx)(d.s,{onClose:U,children:(0,a.jsxs)("div",{className:"flex items-center justify-center flex-col",children:[(0,a.jsx)(h.l,{onChange:e=>k(e),selectedItem:C,children:N.map(e=>{let s=y(e);return(0,a.jsx)("img",{className:"object-contain h-auto w-auto max-w-[calc(100vw-30px)] max-h-[calc(100vh-60px)]",src:s,alt:""},e.id)})}),N.length>1&&(0,a.jsx)(h.b,{count:N.length,selectedIndex:C,onSelect:e=>{k(e)}})]})})]}),(0,a.jsx)("div",{className:"absolute right-0 flex z-10",children:(0,a.jsx)("button",{onClick:()=>{_()},className:(0,c.Z)("text-zinc-400 text-[11px] rounded-bl-lg active:scale-95 transition-all transform-gpu whitespace-nowrap flex select-none cursor-pointer bg-zinc-700 bg-opacity-30 hover:bg-opacity-60 hover:text-zinc-100 items-center justify-center py-1 w-fit-content px-2.5 pl-2 pr-2.5",{"rounded-tr-lg":0===N.length}),children:"+ Upload image"})}),Y.length>0&&(0,a.jsxs)("div",{className:"text-red-400 text-xs p-3",children:[(0,a.jsx)("div",{children:Y[0].fileSizeToolarge&&"Maximum file size is 10 MB"}),(0,a.jsx)("div",{children:Y[0].readerError&&"Problem occured while reading file"}),(0,a.jsx)("div",{children:Y[0].maxLimitExceeded&&"You can add a maximum of ".concat(v.max," images")})]})]})}),w=e=>{let{source:s,onClick:t,onDelete:l}=e,i=y(s);return(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)("div",{className:"overflow-hidden cursor-zoom-in",onClick:t,children:(0,a.jsx)("div",{className:"flex items-center justify-center ",style:{width:"5rem",height:"5rem"},children:(0,a.jsx)("img",{style:{maxWidth:"5rem",maxHeight:"5rem"},className:"rounded drop-shadow-md shadow",src:i,alt:""})})}),l&&(0,a.jsx)("div",{className:"absolute -top-1 -right-1 shadow-md rounded-full bg-black text-white p-1 group-hover:block hidden bg-opacity-70 cursor-pointer",onClick:l,children:(0,a.jsx)(x.q,{className:"w-3 h-3"})})]})},y=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"lg";return e.hasOwnProperty("isUpload")?e.data||e.url:(0,o.Jn)({id:e.image.id,size:s,model:e.prompt.model})};function z(e){let s=new window.Image;return s.src=e,new Promise((e,t)=>{s.onload=()=>{e({width:s.width,height:s.height})},s.onerror=()=>{t()}})}},17647:function(e,s,t){t.d(s,{L:function(){return n}});var a=t(57437);t(2265);var l=t(69394),i=t(29515);let n=e=>{let{values:s,selectedValue:t,defaultValue:n,onChange:r,placeholder:c}=e;return(0,a.jsxs)(i.fC,{onValueChange:r,value:t,defaultValue:n,children:[(0,a.jsxs)(i.xz,{className:"flex cursor-pointer select-none hover:bg-zinc-900 hover:bg-opacity-50 pl-3 pr-2.5 py-2 items-center justify-center space-x-1.5 rounded focus:outline-none text-xs text-zinc-200",children:[(0,a.jsx)(i.B4,{className:"opacity-50 ",placeholder:c}),(0,a.jsx)(i.GV,{children:(0,a.jsx)(l.v4q,{})})]}),(0,a.jsx)(i.h_,{children:(0,a.jsx)(i.VY,{children:(0,a.jsx)(i.l_,{className:"bg-zinc-800 p-1 drop-shadow-md border border-zinc-700 rounded-md",children:(0,a.jsx)(i.ZA,{className:"select-none",children:s.map(e=>(0,a.jsxs)(i.ck,{className:"flex space-x-2 items-center px-4 pl-8 py-2 cursor-pointer hover:bg-zinc-700 rounded text-xs relative focus:outline-none",value:e.value,children:[(0,a.jsx)(i.eT,{children:e.label}),(0,a.jsx)(i.wU,{className:"w-6 left-0 absolute",children:(0,a.jsx)(l.nQG,{})})]},e.value))})})})})]})}},40094:function(e,s,t){var a=t(57437),l=t(28712),i=t(97876);s.Z=e=>{let{children:s,maxWidth:t=480,onClose:n,showClose:r=!0}=e;return(0,a.jsx)(l.fC,{open:!0,onOpenChange:e=>{!1===e&&n()},children:(0,a.jsxs)(l.h_,{children:[(0,a.jsx)(l.aV,{className:"fixed inset-0 bg-zinc-900 bg-opacity-60 z-40"}),(0,a.jsxs)(l.VY,{className:"bg-zinc-800 items-center fixed shadow-xl rounded-2xl z-50 px-8 py-8 text-sm drop-shadow-lg border border-zinc-700 fadeInAndScale",style:{top:"50%",transform:"translate(-50%, -50%)",left:"50%",maxWidth:"".concat(t,"px"),width:"100%"},children:[r&&(0,a.jsx)(l.x8,{className:"hover:bg-zinc-700 p-1 rounded absolute right-3 top-3",children:(0,a.jsx)(i.q,{className:"text-xl"})}),s]})]})})}},99505:function(e,s,t){t.d(s,{u:function(){return o}});var a=t(57437),l=t(82868),i=t(52791);let n=(0,i.F4)({"0%":{opacity:0,transform:"translateY(-5px) scale(0.95)"},"100%":{opacity:1,transform:"translateY(0) scale(1)"}}),r=(0,i.F4)({"0%":{opacity:0,transform:"translateY(5px) scale(0.95)"},"100%":{opacity:1,transform:"translateY(0) scale(1)"}}),c=(0,i.zo)(l.VY,{animationDuration:"0.15s",'&[data-side="top"]':{animationName:r},'&[data-side="bottom"]':{animationName:n},maxWidth:230}),o=e=>{let{children:s,label:t,side:i="top"}=e;return t?(0,a.jsxs)(l.fC,{delayDuration:500,children:[(0,a.jsx)(l.xz,{asChild:!0,children:s}),(0,a.jsx)(l.h_,{children:(0,a.jsxs)(c,{className:"bg-zinc-900 text-sm px-4 py-2 rounded-lg drop-shadow-md z-50",side:i,children:[t,(0,a.jsx)(l.Eh,{fill:"rgb(24 24 27)"})]})})]}):(0,a.jsx)(a.Fragment,{children:s})}}}]);